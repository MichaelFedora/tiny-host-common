(self.webpackChunktiny_host_common=self.webpackChunktiny_host_common||[]).push([[315],{315:(s,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>c});var t=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{attrs:{id:"tiny-handshake"}},[a("h1",[s._v("handshake")]),s._v(" "),a("h2",{staticClass:"sub"},[s._v(s._s(s.app))]),s._v(" "),a("p",[s._v("\r\n    scopes:"),a("br"),s._v(" "),a("ul",s._l(s.scopes,(function(e,t){return a("li",{key:"filescope-"+t},[s._v(s._s(e))])})),0)]),s._v(" "),a("p",[s._v("Authenticate as "),a("b",[s._v(s._s(s.username))]),s._v(" with these scopes?")]),s._v(" "),a("hr"),s._v(" "),a("div",{attrs:{id:"buttons"}},[a("button",{on:{click:s.cancel}},[s._v("cancel")]),s._v(" "),a("button",{staticClass:"primary",on:{click:s.approve}},[s._v("approve")])])])};t._withStripped=!0;var n=a(670),h=a(271),r=a(79);const i=n.Z.extend({data(){var s;return{working:!1,username:(null===(s=h.Z.user)||void 0===s?void 0:s.username)||"{current user}",app:"",scopes:[]}},computed:{handshake(){return String(this.$route.query.handshake)}},async mounted(){if(!this.handshake)return;this.working=!0;const s=await r.Z.auth.getHandshakeInfo(this.handshake).catch((()=>null));this.app=(null==s?void 0:s.app)||"{broken}",this.scopes=(null==s?void 0:s.scopes)||[],this.working=!1},methods:{cancel(){r.Z.auth.cancelHandshake(this.handshake)},approve(){this.handshake&&this.app&&r.Z.auth.approveHandshake(this.handshake)}}});var o=(0,a(900).Z)(i,t,[],!1,null,null,null);o.options.__file="src/web/pages/handshake.vue";const c=o.exports}}]);