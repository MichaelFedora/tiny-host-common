(self.webpackChunktiny_host_common=self.webpackChunktiny_host_common||[]).push([[888],{888:(s,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>o});var t=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{attrs:{id:"tiny-handshake"}},[e("h1",[s._v("handshake")]),s._v(" "),e("h2",{staticClass:"sub"},[s._v(s._s(s.app))]),s._v(" "),e("p",[s._v("\r\n    scopes:"),e("br"),s._v(" "),e("ul",s._l(s.scopes,(function(a,t){return e("li",{key:"filescope-"+t},[s._v(s._s(a))])})),0)]),s._v(" "),e("p",[s._v("Authenticate as "),e("b",[s._v(s._s(s.username))]),s._v(" with these scopes?")]),s._v(" "),e("hr"),s._v(" "),e("div",{attrs:{id:"buttons"}},[e("button",{on:{click:s.cancel}},[s._v("cancel")]),s._v(" "),e("button",{staticClass:"primary",on:{click:s.approve}},[s._v("approve")])])])};t._withStripped=!0;var n=e(271),h=e(79);const i={data(){var s;return{working:!1,username:(null===(s=n.Z.user)||void 0===s?void 0:s.username)||"{current user}",app:"my app",scopes:["/public","/appdata"]}},computed:{handshake(){return String(this.$route.query.handshake)}},async mounted(){if(!this.handshake)return;this.working=!0;const s=await h.Z.auth.getHandshakeInfo(this.handshake).catch((()=>null));this.app=(null==s?void 0:s.app)||"{broken}",this.scopes=(null==s?void 0:s.scopes)||[],this.working=!1},methods:{cancel(){h.Z.auth.cancelHandshake(this.handshake)},approve(){this.handshake&&this.app&&h.Z.auth.approveHandshake(this.handshake)}}};var r=(0,e(900).Z)(i,t,[],!1,null,null,null);r.options.__file="src/web/pages/handshake.vue";const o=r.exports}}]);